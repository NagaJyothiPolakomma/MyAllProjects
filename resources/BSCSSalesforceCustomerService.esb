<?xml version="1.0" encoding="UTF-8"?>
<esb:EsbDiagram xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:esb="http:///org/wso2/integrationstudio/eclipse/gmf/esb">
  <server type="PROXY">
    <children xsi:type="esb:ProxyService" name="BSCSSalesforceCustomerService" transports="http,https">
      <outputConnector>
        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.0/@inputConnector"/>
      </outputConnector>
      <inputConnector/>
      <faultInputConnector incomingLinks="//@server/@children.0/@container/@faultContainer/@mediatorFlow/@children.0/@outputConnector/@outgoingLink"/>
      <outSequenceOutputConnector/>
      <serviceParameters name="disableREST" value="true"/>
      <serviceParameters name="disableSOAP12" value="true"/>
      <container>
        <sequenceAndEndpointContainer>
          <mediatorFlow>
            <children xsi:type="esb:PropertyMediator" description="SOAP FAULT" propertyName="FORCE_ERROR_ON_SOAP_FAULT" value="true">
              <inputConnector incomingLinks="//@server/@children.0/@outputConnector/@outgoingLink"/>
              <outputConnector>
                <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.1/@inputConnector"/>
              </outputConnector>
              <valueExpression prettyName="Property Expression" propertyName="expression" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
            </children>
            <children xsi:type="esb:PropertyMediator" description="Getting Mobile Number" valueType="EXPRESSION" newPropertyName="msisdn">
              <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.0/@outputConnector/@outgoingLink"/>
              <outputConnector>
                <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.2/@inputConnector"/>
              </outputConnector>
              <valueExpression propertyValue="$trp:msisdn" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
            </children>
            <children xsi:type="esb:PropertyMediator" description="PRP_GetmessageId" valueType="EXPRESSION" newPropertyName="messageId">
              <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.1/@outputConnector/@outgoingLink"/>
              <outputConnector>
                <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.3/@inputConnector"/>
              </outputConnector>
              <valueExpression propertyValue="$trp:messageId" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
            </children>
            <children xsi:type="esb:PropertyMediator" description="PRP_SourceInputnumber" valueType="EXPRESSION" newPropertyName="sourceInputnumber">
              <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.2/@outputConnector/@outgoingLink"/>
              <outputConnector>
                <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.4/@inputConnector"/>
              </outputConnector>
              <valueExpression propertyValue="concat('MSISDN: ',$ctx:msisdn)" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
            </children>
            <children xsi:type="esb:PropertyMediator" description="PRP_proxyName" valueType="EXPRESSION" newPropertyName="proxyName">
              <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.3/@outputConnector/@outgoingLink"/>
              <outputConnector>
                <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.5/@inputConnector"/>
              </outputConnector>
              <valueExpression propertyValue="$ctx:proxy.name" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
            </children>
            <children xsi:type="esb:PropertyMediator" description="PRP_serviceName" value="BSCS-CustomerServices" newPropertyName="serviceName">
              <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.4/@outputConnector/@outgoingLink"/>
              <outputConnector>
                <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.6/@inputConnector"/>
              </outputConnector>
              <valueExpression prettyName="Property Expression" propertyName="expression" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
            </children>
            <children xsi:type="esb:PropertyMediator" description="PRP_stageName" value="before Calling BSCS Contract Search Service" newPropertyName="stageName">
              <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.5/@outputConnector/@outgoingLink"/>
              <outputConnector>
                <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.7/@inputConnector"/>
              </outputConnector>
              <valueExpression prettyName="Property Expression" propertyName="expression" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
            </children>
            <children xsi:type="esb:PropertyMediator" description="PRP_SystemProperties" propertyDataType="OM" valueType="EXPRESSION" newPropertyName="SystemProperties">
              <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.6/@outputConnector/@outgoingLink"/>
              <outputConnector>
                <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.8/@inputConnector"/>
              </outputConnector>
              <valueExpression propertyValue="get-property('SFDC_SystemProperties_LE')" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
            </children>
            <children xsi:type="esb:PropertyMediator" description="Username" valueType="EXPRESSION" newPropertyName="Username">
              <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.7/@outputConnector/@outgoingLink"/>
              <outputConnector>
                <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.9/@inputConnector"/>
              </outputConnector>
              <valueExpression propertyValue="$ctx:SystemProperties//*[local-name()='BSCS']/*[local-name()='ServiceCredentials']/@Username" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
            </children>
            <children xsi:type="esb:PropertyMediator" description="Password" valueType="EXPRESSION" newPropertyName="Password">
              <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.8/@outputConnector/@outgoingLink"/>
              <outputConnector>
                <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.10/@inputConnector"/>
              </outputConnector>
              <valueExpression propertyValue="$ctx:SystemProperties//*[local-name()='BSCS']/*[local-name()='ServiceCredentials']/@Password" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
            </children>
            <children xsi:type="esb:PropertyMediator" description="MobileMoneyUsername" valueType="EXPRESSION" newPropertyName="MMUsername">
              <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.9/@outputConnector/@outgoingLink"/>
              <outputConnector>
                <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.11/@inputConnector"/>
              </outputConnector>
              <valueExpression propertyValue="$ctx:SystemProperties//*[local-name()='MM']/*[local-name()='ServiceCredentials']/@Username" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
            </children>
            <children xsi:type="esb:PropertyMediator" description="MobileMoneyPassword" valueType="EXPRESSION" newPropertyName="MMPassword">
              <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.10/@outputConnector/@outgoingLink"/>
              <outputConnector>
                <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.12/@inputConnector"/>
              </outputConnector>
              <valueExpression propertyValue="$ctx:SystemProperties//*[local-name()='MM']/*[local-name()='ServiceCredentials']/@Password" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
            </children>
            <children xsi:type="esb:PropertyMediator" description="credentials" valueType="EXPRESSION" newPropertyName="MMCredentials">
              <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.11/@outputConnector/@outgoingLink"/>
              <outputConnector>
                <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.13/@inputConnector"/>
              </outputConnector>
              <valueExpression propertyValue="fn:concat($ctx:MMUsername,':',$ctx:MMPassword)" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
            </children>
            <children xsi:type="esb:PropertyMediator" description="DBQueries" propertyDataType="OM" valueType="EXPRESSION" newPropertyName="DBQueries">
              <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.12/@outputConnector/@outgoingLink"/>
              <outputConnector>
                <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.14/@inputConnector"/>
              </outputConnector>
              <valueExpression propertyValue="get-property('SFDC_DBQueryDetails_LE')" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
            </children>
            <children xsi:type="esb:PropertyMediator" description="COUNTRYQUERY" valueType="EXPRESSION" newPropertyName="COUNTRYQUERY">
              <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.13/@outputConnector/@outgoingLink"/>
              <outputConnector>
                <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.15/@inputConnector"/>
              </outputConnector>
              <valueExpression propertyValue="$ctx:DBQueries//*[local-name()='BSCS']/*[local-name()='select_CountryDesc']/text()" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
            </children>
            <children xsi:type="esb:PropertyMediator" description="BMLQUERY_invoice" valueType="EXPRESSION" newPropertyName="BMLQUERY_invoice">
              <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.14/@outputConnector/@outgoingLink"/>
              <outputConnector>
                <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.16/@inputConnector"/>
              </outputConnector>
              <valueExpression propertyValue="$ctx:DBQueries//*[local-name()='select_Invoice']/text()" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
            </children>
            <children xsi:type="esb:PropertyMediator" description="Deposit Section" valueType="EXPRESSION" newPropertyName="Deposit">
              <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.15/@outputConnector/@outgoingLink"/>
              <outputConnector>
                <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.17/@inputConnector"/>
              </outputConnector>
              <valueExpression propertyValue="$ctx:DBQueries//*[local-name()='select_Deposit']/text()" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
            </children>
            <children xsi:type="esb:PropertyMediator" description="Payment" valueType="EXPRESSION" newPropertyName="Payment">
              <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.16/@outputConnector/@outgoingLink"/>
              <outputConnector>
                <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.18/@inputConnector"/>
              </outputConnector>
              <valueExpression propertyValue="$ctx:DBQueries//*[local-name()='select_Payment']/text()" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
            </children>
            <children xsi:type="esb:PropertyMediator" description="OCC" valueType="EXPRESSION" newPropertyName="OCC">
              <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.17/@outputConnector/@outgoingLink"/>
              <outputConnector>
                <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.19/@inputConnector"/>
              </outputConnector>
              <valueExpression propertyValue="$ctx:DBQueries//*[local-name()='select_OCC']/text()" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
            </children>
            <children xsi:type="esb:PropertyMediator" description="CustomerGroupName" valueType="EXPRESSION" newPropertyName="CustomerGroupName">
              <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.18/@outputConnector/@outgoingLink"/>
              <outputConnector>
                <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.20/@inputConnector"/>
              </outputConnector>
              <valueExpression propertyValue="$ctx:DBQueries//*[local-name()='select_CustomerGroupName']/text()" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
            </children>
            <children xsi:type="esb:PropertyMediator" description="BMLQUERY" valueType="EXPRESSION" newPropertyName="BMLQUERY">
              <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.19/@outputConnector/@outgoingLink"/>
              <outputConnector>
                <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.21/@inputConnector"/>
              </outputConnector>
              <valueExpression propertyValue="$ctx:DBQueries//*[local-name()='BSCS']/*[local-name()='select_BMLPaymentHistory']/text()" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
            </children>
            <children xsi:type="esb:PropertyMediator" description="BSCSQUERY" valueType="EXPRESSION" newPropertyName="BSCSQUERY">
              <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.20/@outputConnector/@outgoingLink"/>
              <outputConnector>
                <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.22/@inputConnector"/>
              </outputConnector>
              <valueExpression propertyValue="$ctx:DBQueries//*[local-name()='BSCS']/*[local-name()='select_BSCSPaymentHistory']/text()" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
            </children>
            <children xsi:type="esb:PropertyMediator" description="DATASOURCE" valueType="EXPRESSION" newPropertyName="JNDI_DATASOURCE">
              <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.21/@outputConnector/@outgoingLink"/>
              <outputConnector>
                <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@inputConnector"/>
              </outputConnector>
              <valueExpression propertyValue="$ctx:SystemProperties//*[local-name()='BSCS']/*[local-name()='BSCSRepositoryJNDIName']/text()" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
            </children>
            <children xsi:type="esb:FilterMediator" regex="true">
              <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.22/@outputConnector/@outgoingLink"/>
              <outputConnector>
                <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.24/@inputConnector"/>
              </outputConnector>
              <passOutputConnector>
                <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.0/@inputConnector"/>
              </passOutputConnector>
              <failOutputConnector>
                <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@failContainer/@mediatorFlow/@children.0/@inputConnector"/>
              </failOutputConnector>
              <xpath prettyName="Filter Source XPath" propertyName="filterSourceXpath" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
              <source propertyValue="boolean($ctx:msisdn)" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
              <filterContainer>
                <passContainer>
                  <mediatorFlow>
                    <children xsi:type="esb:FilterMediator" conditionType="XPath">
                      <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@passOutputConnector/@outgoingLink"/>
                      <outputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.1/@inputConnector"/>
                      </outputConnector>
                      <passOutputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.0/@filterContainer/@passContainer/@mediatorFlow/@children.0/@inputConnector"/>
                      </passOutputConnector>
                      <failOutputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.0/@filterContainer/@failContainer/@mediatorFlow/@children.0/@inputConnector"/>
                      </failOutputConnector>
                      <xpath propertyValue="fn:string-length(get-property('msisdn')) = 7 and substring(get-property('msisdn'), 1, 1) != '4'" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      <source prettyName="Filter Source" propertyName="source" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      <filterContainer>
                        <passContainer>
                          <mediatorFlow>
                            <children xsi:type="esb:PropertyMediator" valueType="EXPRESSION" newPropertyName="dirnum">
                              <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.0/@passOutputConnector/@outgoingLink"/>
                              <outputConnector/>
                              <valueExpression propertyValue="fn:concat('960',$ctx:msisdn)" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                            </children>
                          </mediatorFlow>
                        </passContainer>
                        <failContainer>
                          <mediatorFlow>
                            <children xsi:type="esb:PropertyMediator" valueType="EXPRESSION" newPropertyName="dirnum">
                              <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.0/@failOutputConnector/@outgoingLink"/>
                              <outputConnector/>
                              <valueExpression propertyValue="$ctx:msisdn" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                            </children>
                          </mediatorFlow>
                        </failContainer>
                      </filterContainer>
                    </children>
                    <children xsi:type="esb:LogMediator" logLevel="CUSTOM" logSeparator=", ">
                      <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.0/@outputConnector/@outgoingLink"/>
                      <outputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.2/@inputConnector"/>
                      </outputConnector>
                      <properties propertyName="msisdn" propertyValue="BSCSSalesforceCustomerService After added 960 as prefix">
                        <propertyExpression prettyName="property expression" propertyName="expression" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      </properties>
                      <properties propertyName="dirnum" propertyValueType="EXPRESSION" propertyValue="">
                        <propertyExpression propertyValue="get-property('dirnum')" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      </properties>
                    </children>
                    <children xsi:type="esb:PayloadFactoryMediator" payload="&lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; xmlns:java=&quot;http://xml.apache.org/axis/wsdd/providers/java&quot; xmlns:ws=&quot;http://www.lhsgroup.com/ws_v3_CBIO_2_1_WAT_1&quot;>&lt;soapenv:Header>&lt;wsse:Security xmlns:wsse=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot; xmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot; soapenv:mustUnderstand=&quot;1&quot;>&lt;wsse:UsernameToken>&lt;wsse:Username>$2&lt;/wsse:Username>&lt;wsse:Password>$3&lt;/wsse:Password>&lt;/wsse:UsernameToken>&lt;/wsse:Security>&lt;/soapenv:Header>&lt;soapenv:Body>&lt;ws:in0>&lt;java:input>&lt;ws:dirnum>$1&lt;/ws:dirnum>&lt;/java:input>&lt;java:sessionChange>&lt;ws:values/>&lt;/java:sessionChange>&lt;/ws:in0>&lt;/soapenv:Body>&lt;/soapenv:Envelope>">
                      <payloadKey prettyName="Sequence Key" keyName="Sequence Key" filters="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      <args argumentType="Expression">
                        <argumentExpression propertyValue="$ctx:dirnum" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      </args>
                      <args argumentType="Expression">
                        <argumentExpression propertyValue="$ctx:Username" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      </args>
                      <args argumentType="Expression">
                        <argumentExpression propertyValue="$ctx:Password" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      </args>
                      <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.1/@outputConnector/@outgoingLink"/>
                      <outputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.3/@inputConnector"/>
                      </outputConnector>
                    </children>
                    <children xsi:type="esb:HeaderMediator" valueLiteral="execute">
                      <headerName prettyName="Header Name" propertyName="name" propertyValue="Action" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      <valueExpression prettyName="Expression" propertyName="expression" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.2/@outputConnector/@outgoingLink"/>
                      <outputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.4/@inputConnector"/>
                      </outputConnector>
                    </children>
                    <children xsi:type="esb:CallMediator" description="Calling Contract Search Service" endpointType="REGISRTYKEY">
                      <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.3/@outputConnector/@outgoingLink"/>
                      <outputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.5/@inputConnector"/>
                      </outputConnector>
                      <endpointOutputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.4/@mediatorFlow/@children.0/@inputConnector"/>
                      </endpointOutputConnector>
                      <mediatorFlow>
                        <children xsi:type="esb:NamedEndpoint" name="ContractsSearchService_EP">
                          <reliableMessagingPolicy prettyName="ReliableMessagingPolicy Key" keyName="ReliableMessagingPolicy Key" keyValue="/default/key" filters="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                          <securityPolicy prettyName="SecurityPolicy Key" keyName="SecurityPolicy Key" filters="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                          <inboundPolicy prettyName="inboundPolicy Key" keyName="inboundPolicy Key" filters="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                          <outboundPolicy prettyName="obPolicy Key" keyName="obPolicy Key" filters="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                          <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.4/@endpointOutputConnector/@outgoingLink"/>
                          <dynamicReferenceKey prettyName="Endpoint Expression" propertyName="expression" propertyValue="/default/expression" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                          <staticReferenceKey prettyName="Endpoint Key" keyName="Endpoint Key" keyValue="ContractsSearchService_EP" filters="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                        </children>
                      </mediatorFlow>
                      <endpointRegistrykey keyValue="ContractsSearchService_EP" filters="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      <sourceXPath prettyName="Endpoint XPath" propertyName="expression" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                    </children>
                    <children xsi:type="esb:FilterMediator" regex="true">
                      <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.4/@outputConnector/@outgoingLink"/>
                      <outputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.6/@inputConnector"/>
                      </outputConnector>
                      <passOutputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.5/@filterContainer/@passContainer/@mediatorFlow/@children.0/@inputConnector"/>
                      </passOutputConnector>
                      <failOutputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.5/@filterContainer/@failContainer/@mediatorFlow/@children.0/@inputConnector"/>
                      </failOutputConnector>
                      <xpath prettyName="Filter Source XPath" propertyName="filterSourceXpath" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      <source propertyValue="boolean($body//*[local-name()='executeReturn']/*[local-name()='contracts']/*[local-name()='item'][*[local-name()='coStatus']/text()='2']/*[local-name()='csId']) or boolean($body//*[local-name()='executeReturn']/*[local-name()='contracts']/*[local-name()='item'][*[local-name()='coStatus']/text()='3']/*[local-name()='csId'])" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      <filterContainer>
                        <passContainer>
                          <mediatorFlow>
                            <children xsi:type="esb:FilterMediator" regex="true">
                              <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.5/@passOutputConnector/@outgoingLink"/>
                              <outputConnector/>
                              <passOutputConnector>
                                <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.5/@filterContainer/@passContainer/@mediatorFlow/@children.0/@filterContainer/@passContainer/@mediatorFlow/@children.0/@inputConnector"/>
                              </passOutputConnector>
                              <failOutputConnector>
                                <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.5/@filterContainer/@passContainer/@mediatorFlow/@children.0/@filterContainer/@failContainer/@mediatorFlow/@children.0/@inputConnector"/>
                              </failOutputConnector>
                              <xpath prettyName="Filter Source XPath" propertyName="filterSourceXpath" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                              <source propertyValue="boolean($body//*[local-name()='executeReturn']/*[local-name()='contracts']/*[local-name()='item'][*[local-name()='coStatus']/text()='2']/*[local-name()='csId'])" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                              <filterContainer>
                                <passContainer>
                                  <mediatorFlow>
                                    <children xsi:type="esb:PropertyMediator" description="Retrieve CustomerID" valueType="EXPRESSION" newPropertyName="csId">
                                      <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.5/@filterContainer/@passContainer/@mediatorFlow/@children.0/@passOutputConnector/@outgoingLink"/>
                                      <outputConnector/>
                                      <valueExpression propertyValue="$body//*[local-name()='executeReturn']/*[local-name()='contracts']/*[local-name()='item'][*[local-name()='coStatus']/text()='2']/*[local-name()='csId']/text()" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                                    </children>
                                  </mediatorFlow>
                                </passContainer>
                                <failContainer>
                                  <mediatorFlow>
                                    <children xsi:type="esb:PropertyMediator" description="Retrieve CustomerID" valueType="EXPRESSION" newPropertyName="csId">
                                      <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.5/@filterContainer/@passContainer/@mediatorFlow/@children.0/@failOutputConnector/@outgoingLink"/>
                                      <outputConnector/>
                                      <valueExpression propertyValue="$body//*[local-name()='executeReturn']/*[local-name()='contracts']/*[local-name()='item'][*[local-name()='coStatus']/text()='3']/*[local-name()='csId']/text()" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                                    </children>
                                  </mediatorFlow>
                                </failContainer>
                              </filterContainer>
                            </children>
                          </mediatorFlow>
                        </passContainer>
                        <failContainer>
                          <mediatorFlow>
                            <children xsi:type="esb:PropertyMediator" description="ERRORCODE" value="1000" newPropertyName="sErrorCode">
                              <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.5/@failOutputConnector/@outgoingLink"/>
                              <outputConnector>
                                <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.5/@filterContainer/@failContainer/@mediatorFlow/@children.1/@inputConnector"/>
                              </outputConnector>
                              <valueExpression prettyName="Property Expression" propertyName="expression" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                            </children>
                            <children xsi:type="esb:PropertyMediator" description="ERRORMessage" value="There is no data associated to this MSISDN" newPropertyName="sErrorMsg">
                              <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.5/@filterContainer/@failContainer/@mediatorFlow/@children.0/@outputConnector/@outgoingLink"/>
                              <outputConnector>
                                <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.5/@filterContainer/@failContainer/@mediatorFlow/@children.2/@inputConnector"/>
                              </outputConnector>
                              <valueExpression prettyName="Property Expression" propertyName="expression" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                            </children>
                            <children xsi:type="esb:CallMediator" endpointType="REGISRTYKEY">
                              <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.5/@filterContainer/@failContainer/@mediatorFlow/@children.1/@outputConnector/@outgoingLink"/>
                              <outputConnector/>
                              <endpointOutputConnector>
                                <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.5/@filterContainer/@failContainer/@mediatorFlow/@children.2/@mediatorFlow/@children.0/@inputConnector"/>
                              </endpointOutputConnector>
                              <mediatorFlow>
                                <children xsi:type="esb:NamedEndpoint" name="makeFault">
                                  <reliableMessagingPolicy prettyName="ReliableMessagingPolicy Key" keyName="ReliableMessagingPolicy Key" keyValue="/default/key" filters="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                                  <securityPolicy prettyName="SecurityPolicy Key" keyName="SecurityPolicy Key" filters="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                                  <inboundPolicy prettyName="inboundPolicy Key" keyName="inboundPolicy Key" filters="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                                  <outboundPolicy prettyName="obPolicy Key" keyName="obPolicy Key" filters="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                                  <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.5/@filterContainer/@failContainer/@mediatorFlow/@children.2/@endpointOutputConnector/@outgoingLink"/>
                                  <dynamicReferenceKey prettyName="Endpoint Expression" propertyName="expression" propertyValue="/default/expression" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                                  <staticReferenceKey prettyName="Endpoint Key" keyName="Endpoint Key" keyValue="makeFault" filters="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                                </children>
                              </mediatorFlow>
                              <endpointRegistrykey keyValue="makeFault" filters="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                              <sourceXPath prettyName="Endpoint XPath" propertyName="expression" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                            </children>
                          </mediatorFlow>
                        </failContainer>
                      </filterContainer>
                    </children>
                    <children xsi:type="esb:PropertyMediator" description="PRP_stageName" value="After BSCS Contract Search Service call" newPropertyName="stageName">
                      <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.5/@outputConnector/@outgoingLink"/>
                      <outputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.7/@inputConnector"/>
                      </outputConnector>
                      <valueExpression prettyName="Property Expression" propertyName="expression" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                    </children>
                    <children xsi:type="esb:PayloadFactoryMediator" payload="&lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; xmlns:java=&quot;http://xml.apache.org/axis/wsdd/providers/java&quot; xmlns:ws=&quot;http://www.lhsgroup.com/ws_v3_CBIO_2_1_WAT_1&quot;>&lt;soapenv:Header>&lt;wsse:Security xmlns:wsse=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot; xmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot; soapenv:mustUnderstand=&quot;1&quot;>&lt;wsse:UsernameToken>&lt;wsse:Username>$2&lt;/wsse:Username>&lt;wsse:Password>$3&lt;/wsse:Password>&lt;/wsse:UsernameToken>&lt;/wsse:Security>&lt;/soapenv:Header>&lt;soapenv:Body>&lt;ws:in0>&lt;java:input>&lt;ws:addressesRead>&lt;ws:csId>$1&lt;/ws:csId>&lt;/ws:addressesRead>&lt;ws:customerRead>&lt;ws:csId>$1&lt;/ws:csId>&lt;/ws:customerRead>&lt;/java:input>&lt;java:sessionChange>&lt;ws:values/>&lt;/java:sessionChange>&lt;/ws:in0>&lt;/soapenv:Body>&lt;/soapenv:Envelope>">
                      <payloadKey prettyName="Sequence Key" keyName="Sequence Key" filters="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      <args argumentType="Expression">
                        <argumentExpression propertyValue="$ctx:csId" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      </args>
                      <args argumentType="Expression">
                        <argumentExpression propertyValue="$ctx:Username" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      </args>
                      <args argumentType="Expression">
                        <argumentExpression propertyValue="$ctx:Password" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      </args>
                      <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.6/@outputConnector/@outgoingLink"/>
                      <outputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.8/@inputConnector"/>
                      </outputConnector>
                    </children>
                    <children xsi:type="esb:PropertyMediator" description="PRP_stageName" value="Calling BSCS Customer Retrieve Service" newPropertyName="stageName">
                      <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.7/@outputConnector/@outgoingLink"/>
                      <outputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.9/@inputConnector"/>
                      </outputConnector>
                      <valueExpression prettyName="Property Expression" propertyName="expression" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                    </children>
                    <children xsi:type="esb:HeaderMediator" valueLiteral="execute">
                      <headerName prettyName="Header Name" propertyName="name" propertyValue="Action" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      <valueExpression prettyName="Expression" propertyName="expression" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.8/@outputConnector/@outgoingLink"/>
                      <outputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.10/@inputConnector"/>
                      </outputConnector>
                    </children>
                    <children xsi:type="esb:CallMediator" description="Calling Customer Retrieve Service" endpointType="REGISRTYKEY">
                      <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.9/@outputConnector/@outgoingLink"/>
                      <outputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.11/@inputConnector"/>
                      </outputConnector>
                      <endpointOutputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.10/@mediatorFlow/@children.0/@inputConnector"/>
                      </endpointOutputConnector>
                      <mediatorFlow>
                        <children xsi:type="esb:NamedEndpoint" name="CustomerRetrieveService_EP">
                          <reliableMessagingPolicy prettyName="ReliableMessagingPolicy Key" keyName="ReliableMessagingPolicy Key" keyValue="/default/key" filters="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                          <securityPolicy prettyName="SecurityPolicy Key" keyName="SecurityPolicy Key" filters="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                          <inboundPolicy prettyName="inboundPolicy Key" keyName="inboundPolicy Key" filters="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                          <outboundPolicy prettyName="obPolicy Key" keyName="obPolicy Key" filters="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                          <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.10/@endpointOutputConnector/@outgoingLink"/>
                          <dynamicReferenceKey prettyName="Endpoint Expression" propertyName="expression" propertyValue="/default/expression" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                          <staticReferenceKey prettyName="Endpoint Key" keyName="Endpoint Key" keyValue="CustomerRetrieveService_EP" filters="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                        </children>
                      </mediatorFlow>
                      <endpointRegistrykey keyValue="CustomerRetrieveService_EP" filters="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      <sourceXPath prettyName="Endpoint XPath" propertyName="expression" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                    </children>
                    <children xsi:type="esb:FilterMediator" regex="true">
                      <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.10/@outputConnector/@outgoingLink"/>
                      <outputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.12/@inputConnector"/>
                      </outputConnector>
                      <passOutputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.11/@filterContainer/@passContainer/@mediatorFlow/@children.0/@inputConnector"/>
                      </passOutputConnector>
                      <failOutputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.11/@filterContainer/@failContainer/@mediatorFlow/@children.0/@inputConnector"/>
                      </failOutputConnector>
                      <xpath prettyName="Filter Source XPath" propertyName="filterSourceXpath" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      <source propertyValue="boolean($body//*[local-name()='executeReturn']/*[local-name()='customerRead']/*[local-name()='csId'])" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      <filterContainer>
                        <passContainer>
                          <mediatorFlow>
                            <children xsi:type="esb:PropertyMediator" description="Customer Retrieve Service Response" propertyDataType="OM" valueType="EXPRESSION" newPropertyName="CustomerRetrieveServiceResp">
                              <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.11/@passOutputConnector/@outgoingLink"/>
                              <outputConnector>
                                <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.11/@filterContainer/@passContainer/@mediatorFlow/@children.1/@inputConnector"/>
                              </outputConnector>
                              <valueExpression propertyValue="$body//*[local-name()='executeReturn']" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                            </children>
                            <children xsi:type="esb:PropertyMediator" description="Customer Code" valueType="EXPRESSION" newPropertyName="CustCode">
                              <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.11/@filterContainer/@passContainer/@mediatorFlow/@children.0/@outputConnector/@outgoingLink"/>
                              <outputConnector>
                                <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.11/@filterContainer/@passContainer/@mediatorFlow/@children.2/@inputConnector"/>
                              </outputConnector>
                              <valueExpression propertyValue="$ctx:CustomerRetrieveServiceResp//*[local-name()='customerRead']/*[local-name()='csCode']/text()" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                            </children>
                            <children xsi:type="esb:PropertyMediator" description="CountryId" valueType="EXPRESSION" newPropertyName="CountryId">
                              <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.11/@filterContainer/@passContainer/@mediatorFlow/@children.1/@outputConnector/@outgoingLink"/>
                              <outputConnector>
                                <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.11/@filterContainer/@passContainer/@mediatorFlow/@children.3/@inputConnector"/>
                              </outputConnector>
                              <valueExpression propertyValue="$ctx:CustomerRetrieveServiceResp//*[local-name()='addressesRead']/*[local-name()='listOfAllAddresses']/*[local-name()='item'][1]/*[local-name()='countryId']/text()" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                            </children>
                            <children xsi:type="esb:PropertyMediator" description="Customer Level" valueType="EXPRESSION" newPropertyName="csLevelCode">
                              <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.11/@filterContainer/@passContainer/@mediatorFlow/@children.2/@outputConnector/@outgoingLink"/>
                              <outputConnector>
                                <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.11/@filterContainer/@passContainer/@mediatorFlow/@children.4/@inputConnector"/>
                              </outputConnector>
                              <valueExpression propertyValue="$ctx:CustomerRetrieveServiceResp//*[local-name()='customerRead']/*[local-name()='csLevelCode']/text()" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                            </children>
                            <children xsi:type="esb:PropertyMediator" description="prgCode" valueType="EXPRESSION" newPropertyName="prgCode">
                              <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.11/@filterContainer/@passContainer/@mediatorFlow/@children.3/@outputConnector/@outgoingLink"/>
                              <outputConnector>
                                <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.11/@filterContainer/@passContainer/@mediatorFlow/@children.5/@inputConnector"/>
                              </outputConnector>
                              <valueExpression propertyValue="$ctx:CustomerRetrieveServiceResp//*[local-name()='customerRead']/*[local-name()='prgCode']/text()" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                            </children>
                            <children xsi:type="esb:ScriptMediator" scriptType="INLINE" scriptBody="var customerCode =mc.getProperty(&quot;CustCode&quot;);&#xA;                            var custLevel=mc.getProperty(&quot;csLevelCode&quot;);&#xA;                            var parCustCode=&quot;&quot;;&#xA;                            if( (custLevel == &quot;40&quot; &amp;&amp; customerCode.startsWith('1.')) || (custLevel == &quot;10&quot;) )&#xA;                            {parCustCode=&quot;&quot;;}&#xA;                            else {parCustCode= customerCode.substr(0, customerCode.lastIndexOf('.'));&#xA;                            }&#xA;                            mc.setProperty(&quot;ParentCustCode&quot;,parCustCode);">
                              <scriptDynamicKey prettyName="" propertyName="dynamic key" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                              <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.11/@filterContainer/@passContainer/@mediatorFlow/@children.4/@outputConnector/@outgoingLink"/>
                              <outputConnector/>
                              <scriptStaticKey prettyName="Script Key" keyName="key" filters="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                            </children>
                          </mediatorFlow>
                        </passContainer>
                        <failContainer>
                          <mediatorFlow>
                            <children xsi:type="esb:PropertyMediator" description="ERRORCODE" value="1000" newPropertyName="sErrorCode">
                              <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.11/@failOutputConnector/@outgoingLink"/>
                              <outputConnector>
                                <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.11/@filterContainer/@failContainer/@mediatorFlow/@children.1/@inputConnector"/>
                              </outputConnector>
                              <valueExpression prettyName="Property Expression" propertyName="expression" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                            </children>
                            <children xsi:type="esb:PropertyMediator" description="ErrorMessage" value="There is no customer data associated to this MSISDN" newPropertyName="sErrorMsg">
                              <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.11/@filterContainer/@failContainer/@mediatorFlow/@children.0/@outputConnector/@outgoingLink"/>
                              <outputConnector>
                                <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.11/@filterContainer/@failContainer/@mediatorFlow/@children.2/@inputConnector"/>
                              </outputConnector>
                              <valueExpression prettyName="Property Expression" propertyName="expression" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                            </children>
                            <children xsi:type="esb:CallMediator" endpointType="REGISRTYKEY">
                              <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.11/@filterContainer/@failContainer/@mediatorFlow/@children.1/@outputConnector/@outgoingLink"/>
                              <outputConnector/>
                              <endpointOutputConnector>
                                <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.11/@filterContainer/@failContainer/@mediatorFlow/@children.2/@mediatorFlow/@children.0/@inputConnector"/>
                              </endpointOutputConnector>
                              <mediatorFlow>
                                <children xsi:type="esb:NamedEndpoint" name="makeFault">
                                  <reliableMessagingPolicy prettyName="ReliableMessagingPolicy Key" keyName="ReliableMessagingPolicy Key" keyValue="/default/key" filters="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                                  <securityPolicy prettyName="SecurityPolicy Key" keyName="SecurityPolicy Key" filters="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                                  <inboundPolicy prettyName="inboundPolicy Key" keyName="inboundPolicy Key" filters="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                                  <outboundPolicy prettyName="obPolicy Key" keyName="obPolicy Key" filters="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                                  <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.11/@filterContainer/@failContainer/@mediatorFlow/@children.2/@endpointOutputConnector/@outgoingLink"/>
                                  <dynamicReferenceKey prettyName="Endpoint Expression" propertyName="expression" propertyValue="/default/expression" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                                  <staticReferenceKey prettyName="Endpoint Key" keyName="Endpoint Key" keyValue="makeFault" filters="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                                </children>
                              </mediatorFlow>
                              <endpointRegistrykey keyValue="makeFault" filters="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                              <sourceXPath prettyName="Endpoint XPath" propertyName="expression" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                            </children>
                          </mediatorFlow>
                        </failContainer>
                      </filterContainer>
                    </children>
                    <children xsi:type="esb:PropertyMediator" description="PRP_stageName" value="DB Call To Retrieve Customer Group Name" newPropertyName="stageName">
                      <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.11/@outputConnector/@outgoingLink"/>
                      <outputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.13/@inputConnector"/>
                      </outputConnector>
                      <valueExpression prettyName="Property Expression" propertyName="expression" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                    </children>
                    <children xsi:type="esb:ScriptMediator" scriptType="INLINE" scriptBody="importPackage(Packages.org.apache.axiom.om);&#xA;                                var sQuery =  mc.getProperty(&quot;CustomerGroupName&quot;);&#xA;                                var vQUERY =  sQuery.replace(&quot;?prgcode&quot;,mc.getProperty(&quot;prgCode&quot;));&#xA;                                mc.setProperty(&quot;QUERY&quot;,vQUERY);">
                      <scriptDynamicKey prettyName="" propertyName="dynamic key" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.12/@outputConnector/@outgoingLink"/>
                      <outputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.14/@inputConnector"/>
                      </outputConnector>
                      <scriptStaticKey prettyName="Script Key" keyName="key" filters="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                    </children>
                    <children xsi:type="esb:ClassMediator" className="com.auras.DatabaseMediator">
                      <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.13/@outputConnector/@outgoingLink"/>
                      <outputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.15/@inputConnector"/>
                      </outputConnector>
                    </children>
                    <children xsi:type="esb:PropertyMediator" propertyDataType="OM" valueType="EXPRESSION" newPropertyName="resultSet">
                      <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.14/@outputConnector/@outgoingLink"/>
                      <outputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.16/@inputConnector"/>
                      </outputConnector>
                      <valueExpression propertyValue="get-property('result')" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                    </children>
                    <children xsi:type="esb:FilterMediator" conditionType="XPath">
                      <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.15/@outputConnector/@outgoingLink"/>
                      <outputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.17/@inputConnector"/>
                      </outputConnector>
                      <passOutputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.16/@filterContainer/@passContainer/@mediatorFlow/@children.0/@inputConnector"/>
                      </passOutputConnector>
                      <failOutputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.16/@filterContainer/@failContainer/@mediatorFlow/@children.0/@inputConnector"/>
                      </failOutputConnector>
                      <xpath propertyValue="count($ctx:resultSet//*[local-name()='errorMessage']) > 0" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      <source prettyName="Filter Source" propertyName="source" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      <filterContainer>
                        <passContainer>
                          <mediatorFlow>
                            <children xsi:type="esb:PropertyMediator" description="ERRORCODE" value="1000" newPropertyName="sErrorCode">
                              <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.16/@passOutputConnector/@outgoingLink"/>
                              <outputConnector>
                                <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.16/@filterContainer/@passContainer/@mediatorFlow/@children.1/@inputConnector"/>
                              </outputConnector>
                              <valueExpression prettyName="Property Expression" propertyName="expression" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                            </children>
                            <children xsi:type="esb:PropertyMediator" description="ErrorMessage" valueType="EXPRESSION" newPropertyName="sErrorMsg">
                              <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.16/@filterContainer/@passContainer/@mediatorFlow/@children.0/@outputConnector/@outgoingLink"/>
                              <outputConnector>
                                <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.16/@filterContainer/@passContainer/@mediatorFlow/@children.2/@inputConnector"/>
                              </outputConnector>
                              <valueExpression propertyValue="$ctx:resultSet//*[local-name()='errorMessage']/text()" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                            </children>
                            <children xsi:type="esb:Sequence" name="SFDCFault_SEQ">
                              <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.16/@filterContainer/@passContainer/@mediatorFlow/@children.1/@outputConnector/@outgoingLink"/>
                              <outputConnector>
                                <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.16/@filterContainer/@passContainer/@mediatorFlow/@children.3/@inputConnector"/>
                              </outputConnector>
                              <dynamicReferenceKey prettyName="Sequence Expression" propertyName="expression" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                              <staticReferenceKey prettyName="Sequence Key" keyName="Sequence Key" keyValue="SFDCFault_SEQ" filters="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F4000000000000C770800000010000000017400196F72672E77736F322E636172626F6E2E6D6564696174797065737200136A6176612E7574696C2E41727261794C6973747881D21D99C7619D03000149000473697A6578700000000177040000000174001D6170706C69636174696F6E2F766E642E77736F322E73657175656E63657878"/>
                            </children>
                            <children xsi:type="esb:PropertyMediator" description="Customer Group Error Response" propertyDataType="OM" valueType="EXPRESSION" newPropertyName="CustomerGroupErrorResponse">
                              <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.16/@filterContainer/@passContainer/@mediatorFlow/@children.2/@outputConnector.0/@outgoingLink"/>
                              <outputConnector/>
                              <valueExpression propertyValue="$body//*[local-name()='error']" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                            </children>
                          </mediatorFlow>
                        </passContainer>
                        <failContainer>
                          <mediatorFlow>
                            <children xsi:type="esb:PropertyMediator" description="CountryGroup" propertyDataType="OM" valueType="EXPRESSION" newPropertyName="CountryGroup">
                              <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.16/@failOutputConnector/@outgoingLink"/>
                              <outputConnector/>
                              <valueExpression propertyValue="$ctx:resultSet" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                            </children>
                          </mediatorFlow>
                        </failContainer>
                      </filterContainer>
                    </children>
                    <children xsi:type="esb:PropertyMediator" description="PRP_stageName" value="DB Call To Retrieve Country Description" newPropertyName="stageName">
                      <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.16/@outputConnector/@outgoingLink"/>
                      <outputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.18/@inputConnector"/>
                      </outputConnector>
                      <valueExpression prettyName="Property Expression" propertyName="expression" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                    </children>
                    <children xsi:type="esb:FilterMediator" conditionType="XPath">
                      <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.17/@outputConnector/@outgoingLink"/>
                      <outputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.19/@inputConnector"/>
                      </outputConnector>
                      <passOutputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.18/@filterContainer/@passContainer/@mediatorFlow/@children.0/@inputConnector"/>
                      </passOutputConnector>
                      <failOutputConnector/>
                      <xpath propertyValue="boolean($ctx:CountryId)" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      <source prettyName="Filter Source" propertyName="source" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      <filterContainer>
                        <passContainer>
                          <mediatorFlow>
                            <children xsi:type="esb:ScriptMediator" scriptType="INLINE" scriptBody="importPackage(Packages.org.apache.axiom.om);&#xA;                                var sQuery =  mc.getProperty(&quot;COUNTRYQUERY&quot;);&#xA;                                var vQUERY =  sQuery.replace(&quot;?countryId&quot;,mc.getProperty(&quot;CountryId&quot;));&#xA;                                mc.setProperty(&quot;QUERY&quot;,vQUERY);">
                              <scriptDynamicKey prettyName="" propertyName="dynamic key" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                              <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.18/@passOutputConnector/@outgoingLink"/>
                              <outputConnector>
                                <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.18/@filterContainer/@passContainer/@mediatorFlow/@children.1/@inputConnector"/>
                              </outputConnector>
                              <scriptStaticKey prettyName="Script Key" keyName="key" filters="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                            </children>
                            <children xsi:type="esb:ClassMediator" className="com.auras.DatabaseMediator">
                              <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.18/@filterContainer/@passContainer/@mediatorFlow/@children.0/@outputConnector/@outgoingLink"/>
                              <outputConnector>
                                <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.18/@filterContainer/@passContainer/@mediatorFlow/@children.2/@inputConnector"/>
                              </outputConnector>
                            </children>
                            <children xsi:type="esb:PropertyMediator" propertyDataType="OM" valueType="EXPRESSION" newPropertyName="resultSet">
                              <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.18/@filterContainer/@passContainer/@mediatorFlow/@children.1/@outputConnector/@outgoingLink"/>
                              <outputConnector>
                                <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.18/@filterContainer/@passContainer/@mediatorFlow/@children.3/@inputConnector"/>
                              </outputConnector>
                              <valueExpression propertyValue="get-property('result')" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                            </children>
                            <children xsi:type="esb:FilterMediator" conditionType="XPath">
                              <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.18/@filterContainer/@passContainer/@mediatorFlow/@children.2/@outputConnector/@outgoingLink"/>
                              <outputConnector/>
                              <passOutputConnector>
                                <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.18/@filterContainer/@passContainer/@mediatorFlow/@children.3/@filterContainer/@passContainer/@mediatorFlow/@children.0/@inputConnector"/>
                              </passOutputConnector>
                              <failOutputConnector>
                                <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.18/@filterContainer/@passContainer/@mediatorFlow/@children.3/@filterContainer/@failContainer/@mediatorFlow/@children.0/@inputConnector"/>
                              </failOutputConnector>
                              <xpath propertyValue="count($ctx:resultSet//*[local-name()='errorMessage']) > 0" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                              <source prettyName="Filter Source" propertyName="source" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                              <filterContainer>
                                <passContainer>
                                  <mediatorFlow>
                                    <children xsi:type="esb:PropertyMediator" description="ERRORCODE" value="1000" newPropertyName="sErrorCode">
                                      <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.18/@filterContainer/@passContainer/@mediatorFlow/@children.3/@passOutputConnector/@outgoingLink"/>
                                      <outputConnector>
                                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.18/@filterContainer/@passContainer/@mediatorFlow/@children.3/@filterContainer/@passContainer/@mediatorFlow/@children.1/@inputConnector"/>
                                      </outputConnector>
                                      <valueExpression prettyName="Property Expression" propertyName="expression" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                                    </children>
                                    <children xsi:type="esb:PropertyMediator" description="ErrorMessage" valueType="EXPRESSION" newPropertyName="sErrorMsg">
                                      <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.18/@filterContainer/@passContainer/@mediatorFlow/@children.3/@filterContainer/@passContainer/@mediatorFlow/@children.0/@outputConnector/@outgoingLink"/>
                                      <outputConnector>
                                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.18/@filterContainer/@passContainer/@mediatorFlow/@children.3/@filterContainer/@passContainer/@mediatorFlow/@children.2/@inputConnector"/>
                                      </outputConnector>
                                      <valueExpression propertyValue="$ctx:resultSet//*[local-name()='errorMessage']/text()" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                                    </children>
                                    <children xsi:type="esb:Sequence" name="SFDCFault_SEQ">
                                      <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.18/@filterContainer/@passContainer/@mediatorFlow/@children.3/@filterContainer/@passContainer/@mediatorFlow/@children.1/@outputConnector/@outgoingLink"/>
                                      <outputConnector>
                                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.18/@filterContainer/@passContainer/@mediatorFlow/@children.3/@filterContainer/@passContainer/@mediatorFlow/@children.3/@inputConnector"/>
                                      </outputConnector>
                                      <dynamicReferenceKey prettyName="Sequence Expression" propertyName="expression" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                                      <staticReferenceKey prettyName="Sequence Key" keyName="Sequence Key" keyValue="SFDCFault_SEQ" filters="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F4000000000000C770800000010000000017400196F72672E77736F322E636172626F6E2E6D6564696174797065737200136A6176612E7574696C2E41727261794C6973747881D21D99C7619D03000149000473697A6578700000000177040000000174001D6170706C69636174696F6E2F766E642E77736F322E73657175656E63657878"/>
                                    </children>
                                    <children xsi:type="esb:PropertyMediator" description="Country Description Error Response" propertyDataType="OM" valueType="EXPRESSION" newPropertyName="CountryDescriptionErrorResponse">
                                      <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.18/@filterContainer/@passContainer/@mediatorFlow/@children.3/@filterContainer/@passContainer/@mediatorFlow/@children.2/@outputConnector.0/@outgoingLink"/>
                                      <outputConnector/>
                                      <valueExpression propertyValue="$body//*[local-name()='error']" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                                    </children>
                                  </mediatorFlow>
                                </passContainer>
                                <failContainer>
                                  <mediatorFlow>
                                    <children xsi:type="esb:PropertyMediator" description="Country Description" propertyDataType="OM" valueType="EXPRESSION" newPropertyName="CountryDesc">
                                      <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.18/@filterContainer/@passContainer/@mediatorFlow/@children.3/@failOutputConnector/@outgoingLink"/>
                                      <outputConnector/>
                                      <valueExpression propertyValue="$ctx:resultSet" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                                    </children>
                                  </mediatorFlow>
                                </failContainer>
                              </filterContainer>
                            </children>
                          </mediatorFlow>
                        </passContainer>
                        <failContainer>
                          <mediatorFlow/>
                        </failContainer>
                      </filterContainer>
                    </children>
                    <children xsi:type="esb:PropertyMediator" description="PRP_stageName" value="DB Call To Retrieve BML Payment History" newPropertyName="stageName">
                      <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.18/@outputConnector/@outgoingLink"/>
                      <outputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.20/@inputConnector"/>
                      </outputConnector>
                      <valueExpression prettyName="Property Expression" propertyName="expression" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                    </children>
                    <children xsi:type="esb:ScriptMediator" scriptType="INLINE" scriptBody="importPackage(Packages.org.apache.axiom.om);&#xA;                                var sQuery =  mc.getProperty(&quot;BMLQUERY&quot;);&#xA;                                var vQUERY =  sQuery.replace(&quot;?custCode&quot;,mc.getProperty(&quot;CustCode&quot;));&#xA;                                mc.setProperty(&quot;QUERY&quot;,vQUERY);">
                      <scriptDynamicKey prettyName="" propertyName="dynamic key" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.19/@outputConnector/@outgoingLink"/>
                      <outputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.21/@inputConnector"/>
                      </outputConnector>
                      <scriptStaticKey prettyName="Script Key" keyName="key" filters="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                    </children>
                    <children xsi:type="esb:ClassMediator" className="com.auras.DatabaseMediator">
                      <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.20/@outputConnector/@outgoingLink"/>
                      <outputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.22/@inputConnector"/>
                      </outputConnector>
                    </children>
                    <children xsi:type="esb:PropertyMediator" propertyDataType="OM" valueType="EXPRESSION" newPropertyName="resultSet">
                      <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.21/@outputConnector/@outgoingLink"/>
                      <outputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.23/@inputConnector"/>
                      </outputConnector>
                      <valueExpression propertyValue="get-property('result')" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                    </children>
                    <children xsi:type="esb:FilterMediator" conditionType="XPath">
                      <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.22/@outputConnector/@outgoingLink"/>
                      <outputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.24/@inputConnector"/>
                      </outputConnector>
                      <passOutputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.0/@inputConnector"/>
                      </passOutputConnector>
                      <failOutputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.23/@filterContainer/@failContainer/@mediatorFlow/@children.0/@inputConnector"/>
                      </failOutputConnector>
                      <xpath propertyValue="count($ctx:resultSet//*[local-name()='errorMessage']) > 0" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      <source prettyName="Filter Source" propertyName="source" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      <filterContainer>
                        <passContainer>
                          <mediatorFlow>
                            <children xsi:type="esb:PropertyMediator" description="ERRORCODE" value="1000" newPropertyName="sErrorCode">
                              <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.23/@passOutputConnector/@outgoingLink"/>
                              <outputConnector>
                                <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.1/@inputConnector"/>
                              </outputConnector>
                              <valueExpression prettyName="Property Expression" propertyName="expression" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                            </children>
                            <children xsi:type="esb:PropertyMediator" description="ErrorMessage" valueType="EXPRESSION" newPropertyName="sErrorMsg">
                              <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.0/@outputConnector/@outgoingLink"/>
                              <outputConnector>
                                <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.2/@inputConnector"/>
                              </outputConnector>
                              <valueExpression propertyValue="$ctx:resultSet//*[local-name()='errorMessage']/text()" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                            </children>
                            <children xsi:type="esb:Sequence" name="SFDCFault_SEQ">
                              <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.1/@outputConnector/@outgoingLink"/>
                              <outputConnector>
                                <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.3/@inputConnector"/>
                              </outputConnector>
                              <dynamicReferenceKey prettyName="Sequence Expression" propertyName="expression" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                              <staticReferenceKey prettyName="Sequence Key" keyName="Sequence Key" keyValue="SFDCFault_SEQ" filters="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F4000000000000C770800000010000000017400196F72672E77736F322E636172626F6E2E6D6564696174797065737200136A6176612E7574696C2E41727261794C6973747881D21D99C7619D03000149000473697A6578700000000177040000000174001D6170706C69636174696F6E2F766E642E77736F322E73657175656E63657878"/>
                            </children>
                            <children xsi:type="esb:PropertyMediator" description="BMLPaymentHistory Error Response" propertyDataType="OM" valueType="EXPRESSION" newPropertyName="BMLPaymentHistoryErrorResponse">
                              <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.2/@outputConnector.0/@outgoingLink"/>
                              <outputConnector/>
                              <valueExpression propertyValue="$body//*[local-name()='error']" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                            </children>
                          </mediatorFlow>
                        </passContainer>
                        <failContainer>
                          <mediatorFlow>
                            <children xsi:type="esb:PropertyMediator" description="BMLPaymentHistory" propertyDataType="OM" valueType="EXPRESSION" newPropertyName="BMLPaymentHistory">
                              <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.23/@failOutputConnector/@outgoingLink"/>
                              <outputConnector/>
                              <valueExpression propertyValue="$ctx:resultSet" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                            </children>
                          </mediatorFlow>
                        </failContainer>
                      </filterContainer>
                    </children>
                    <children xsi:type="esb:PropertyMediator" description="PRP_stageName" value="DB Call To Retrieve BML Payment History Invoice" newPropertyName="stageName">
                      <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.23/@outputConnector/@outgoingLink"/>
                      <outputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.25/@inputConnector"/>
                      </outputConnector>
                      <valueExpression prettyName="Property Expression" propertyName="expression" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                    </children>
                    <children xsi:type="esb:ScriptMediator" scriptType="INLINE" scriptBody="importPackage(Packages.org.apache.axiom.om);&#xA;                                var sQuery =  mc.getProperty(&quot;BMLQUERY_invoice&quot;);&#xA;                                var vQUERY =  sQuery.replace(&quot;?custCode&quot;,mc.getProperty(&quot;CustCode&quot;));&#xA;                                mc.setProperty(&quot;QUERY&quot;,vQUERY);">
                      <scriptDynamicKey prettyName="" propertyName="dynamic key" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.24/@outputConnector/@outgoingLink"/>
                      <outputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.26/@inputConnector"/>
                      </outputConnector>
                      <scriptStaticKey prettyName="Script Key" keyName="key" filters="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                    </children>
                    <children xsi:type="esb:ClassMediator" className="com.auras.DatabaseMediator">
                      <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.25/@outputConnector/@outgoingLink"/>
                      <outputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.27/@inputConnector"/>
                      </outputConnector>
                    </children>
                    <children xsi:type="esb:PropertyMediator" propertyDataType="OM" valueType="EXPRESSION" newPropertyName="resultSet">
                      <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.26/@outputConnector/@outgoingLink"/>
                      <outputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.28/@inputConnector"/>
                      </outputConnector>
                      <valueExpression propertyValue="get-property('result')" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                    </children>
                    <children xsi:type="esb:FilterMediator" conditionType="XPath">
                      <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.27/@outputConnector/@outgoingLink"/>
                      <outputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.29/@inputConnector"/>
                      </outputConnector>
                      <passOutputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.28/@filterContainer/@passContainer/@mediatorFlow/@children.0/@inputConnector"/>
                      </passOutputConnector>
                      <failOutputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.28/@filterContainer/@failContainer/@mediatorFlow/@children.0/@inputConnector"/>
                      </failOutputConnector>
                      <xpath propertyValue="count($ctx:resultSet//*[local-name()='errorMessage']) > 0" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      <source prettyName="Filter Source" propertyName="source" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      <filterContainer>
                        <passContainer>
                          <mediatorFlow>
                            <children xsi:type="esb:PropertyMediator" description="ERRORCODE" value="1000" newPropertyName="sErrorCode">
                              <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.28/@passOutputConnector/@outgoingLink"/>
                              <outputConnector>
                                <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.28/@filterContainer/@passContainer/@mediatorFlow/@children.1/@inputConnector"/>
                              </outputConnector>
                              <valueExpression prettyName="Property Expression" propertyName="expression" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                            </children>
                            <children xsi:type="esb:PropertyMediator" description="ErrorMessage" valueType="EXPRESSION" newPropertyName="sErrorMsg">
                              <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.28/@filterContainer/@passContainer/@mediatorFlow/@children.0/@outputConnector/@outgoingLink"/>
                              <outputConnector>
                                <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.28/@filterContainer/@passContainer/@mediatorFlow/@children.2/@inputConnector"/>
                              </outputConnector>
                              <valueExpression propertyValue="$ctx:resultSet//*[local-name()='errorMessage']/text()" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                            </children>
                            <children xsi:type="esb:Sequence" name="SFDCFault_SEQ">
                              <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.28/@filterContainer/@passContainer/@mediatorFlow/@children.1/@outputConnector/@outgoingLink"/>
                              <outputConnector>
                                <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.28/@filterContainer/@passContainer/@mediatorFlow/@children.3/@inputConnector"/>
                              </outputConnector>
                              <dynamicReferenceKey prettyName="Sequence Expression" propertyName="expression" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                              <staticReferenceKey prettyName="Sequence Key" keyName="Sequence Key" keyValue="SFDCFault_SEQ" filters="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F4000000000000C770800000010000000017400196F72672E77736F322E636172626F6E2E6D6564696174797065737200136A6176612E7574696C2E41727261794C6973747881D21D99C7619D03000149000473697A6578700000000177040000000174001D6170706C69636174696F6E2F766E642E77736F322E73657175656E63657878"/>
                            </children>
                            <children xsi:type="esb:PropertyMediator" description="BMLPaymentHistory Error Response Invoice" propertyDataType="OM" valueType="EXPRESSION" newPropertyName="BMLPaymentHistoryErrorResponseInvoice">
                              <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.28/@filterContainer/@passContainer/@mediatorFlow/@children.2/@outputConnector.0/@outgoingLink"/>
                              <outputConnector/>
                              <valueExpression propertyValue="$body//*[local-name()='error']" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                            </children>
                          </mediatorFlow>
                        </passContainer>
                        <failContainer>
                          <mediatorFlow>
                            <children xsi:type="esb:PropertyMediator" description="BMLPaymentHistory_Invoice" propertyDataType="OM" valueType="EXPRESSION" newPropertyName="BMLPaymentHistory_Invoice">
                              <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.28/@failOutputConnector/@outgoingLink"/>
                              <outputConnector/>
                              <valueExpression propertyValue="$ctx:resultSet" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                            </children>
                          </mediatorFlow>
                        </failContainer>
                      </filterContainer>
                    </children>
                    <children xsi:type="esb:PropertyMediator" description="PRP_stageName" value="DB Call To Retrieve Deposit Section" newPropertyName="stageName">
                      <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.28/@outputConnector/@outgoingLink"/>
                      <outputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.30/@inputConnector"/>
                      </outputConnector>
                      <valueExpression prettyName="Property Expression" propertyName="expression" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                    </children>
                    <children xsi:type="esb:ScriptMediator" scriptType="INLINE" scriptBody="importPackage(Packages.org.apache.axiom.om);&#xA;                                var sQuery =  mc.getProperty(&quot;Deposit&quot;);&#xA;                                var vQUERY =  sQuery.replace(&quot;?custCode&quot;,mc.getProperty(&quot;CustCode&quot;));&#xA;                                mc.setProperty(&quot;QUERY&quot;,vQUERY);">
                      <scriptDynamicKey prettyName="" propertyName="dynamic key" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.29/@outputConnector/@outgoingLink"/>
                      <outputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.31/@inputConnector"/>
                      </outputConnector>
                      <scriptStaticKey prettyName="Script Key" keyName="key" filters="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                    </children>
                    <children xsi:type="esb:ClassMediator" className="com.auras.DatabaseMediator">
                      <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.30/@outputConnector/@outgoingLink"/>
                      <outputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.32/@inputConnector"/>
                      </outputConnector>
                    </children>
                    <children xsi:type="esb:PropertyMediator" propertyDataType="OM" valueType="EXPRESSION" newPropertyName="resultSet">
                      <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.31/@outputConnector/@outgoingLink"/>
                      <outputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.33/@inputConnector"/>
                      </outputConnector>
                      <valueExpression propertyValue="get-property('result')" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                    </children>
                    <children xsi:type="esb:LogMediator" logLevel="CUSTOM" logSeparator=", ">
                      <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.32/@outputConnector/@outgoingLink"/>
                      <outputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.34/@inputConnector"/>
                      </outputConnector>
                      <properties propertyName="DepositDepositDeposit" propertyValueType="EXPRESSION" propertyValue="">
                        <propertyExpression propertyValue="get-property('result')" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      </properties>
                    </children>
                    <children xsi:type="esb:FilterMediator" conditionType="XPath">
                      <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.33/@outputConnector/@outgoingLink"/>
                      <outputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.35/@inputConnector"/>
                      </outputConnector>
                      <passOutputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.34/@filterContainer/@passContainer/@mediatorFlow/@children.0/@inputConnector"/>
                      </passOutputConnector>
                      <failOutputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.34/@filterContainer/@failContainer/@mediatorFlow/@children.0/@inputConnector"/>
                      </failOutputConnector>
                      <xpath propertyValue="count($ctx:resultSet//*[local-name()='errorMessage']) > 0" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      <source prettyName="Filter Source" propertyName="source" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      <filterContainer>
                        <passContainer>
                          <mediatorFlow>
                            <children xsi:type="esb:PropertyMediator" description="ERRORCODE" value="1000" newPropertyName="sErrorCode">
                              <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.34/@passOutputConnector/@outgoingLink"/>
                              <outputConnector>
                                <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.34/@filterContainer/@passContainer/@mediatorFlow/@children.1/@inputConnector"/>
                              </outputConnector>
                              <valueExpression prettyName="Property Expression" propertyName="expression" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                            </children>
                            <children xsi:type="esb:PropertyMediator" description="ErrorMessage" valueType="EXPRESSION" newPropertyName="sErrorMsg">
                              <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.34/@filterContainer/@passContainer/@mediatorFlow/@children.0/@outputConnector/@outgoingLink"/>
                              <outputConnector>
                                <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.34/@filterContainer/@passContainer/@mediatorFlow/@children.2/@inputConnector"/>
                              </outputConnector>
                              <valueExpression propertyValue="$ctx:resultSet//*[local-name()='errorMessage']/text()" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                            </children>
                            <children xsi:type="esb:Sequence" name="SFDCFault_SEQ">
                              <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.34/@filterContainer/@passContainer/@mediatorFlow/@children.1/@outputConnector/@outgoingLink"/>
                              <outputConnector>
                                <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.34/@filterContainer/@passContainer/@mediatorFlow/@children.3/@inputConnector"/>
                              </outputConnector>
                              <dynamicReferenceKey prettyName="Sequence Expression" propertyName="expression" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                              <staticReferenceKey prettyName="Sequence Key" keyName="Sequence Key" keyValue="SFDCFault_SEQ" filters="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F4000000000000C770800000010000000017400196F72672E77736F322E636172626F6E2E6D6564696174797065737200136A6176612E7574696C2E41727261794C6973747881D21D99C7619D03000149000473697A6578700000000177040000000174001D6170706C69636174696F6E2F766E642E77736F322E73657175656E63657878"/>
                            </children>
                            <children xsi:type="esb:PropertyMediator" description="DepositErrorResponse" propertyDataType="OM" valueType="EXPRESSION" newPropertyName="DepositErrorResponse">
                              <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.34/@filterContainer/@passContainer/@mediatorFlow/@children.2/@outputConnector.0/@outgoingLink"/>
                              <outputConnector/>
                              <valueExpression propertyValue="$body//*[local-name()='error']" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                            </children>
                          </mediatorFlow>
                        </passContainer>
                        <failContainer>
                          <mediatorFlow>
                            <children xsi:type="esb:PropertyMediator" description="Deposit Section" propertyDataType="OM" valueType="EXPRESSION" newPropertyName="Deposit">
                              <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.34/@failOutputConnector/@outgoingLink"/>
                              <outputConnector/>
                              <valueExpression propertyValue="$ctx:resultSet" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                            </children>
                          </mediatorFlow>
                        </failContainer>
                      </filterContainer>
                    </children>
                    <children xsi:type="esb:PropertyMediator" description="PRP_stageName" value="DB Call To Retrieve Payment Section" newPropertyName="stageName">
                      <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.34/@outputConnector/@outgoingLink"/>
                      <outputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.36/@inputConnector"/>
                      </outputConnector>
                      <valueExpression prettyName="Property Expression" propertyName="expression" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                    </children>
                    <children xsi:type="esb:ScriptMediator" scriptType="INLINE" scriptBody="importPackage(Packages.org.apache.axiom.om);&#xA;                                var sQuery =  mc.getProperty(&quot;Payment&quot;);&#xA;                                var vQUERY =  sQuery.replace(&quot;?custCode&quot;,mc.getProperty(&quot;CustCode&quot;));&#xA;                                mc.setProperty(&quot;QUERY&quot;,vQUERY);">
                      <scriptDynamicKey prettyName="" propertyName="dynamic key" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.35/@outputConnector/@outgoingLink"/>
                      <outputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.37/@inputConnector"/>
                      </outputConnector>
                      <scriptStaticKey prettyName="Script Key" keyName="key" filters="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                    </children>
                    <children xsi:type="esb:ClassMediator" className="com.auras.DatabaseMediator">
                      <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.36/@outputConnector/@outgoingLink"/>
                      <outputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.38/@inputConnector"/>
                      </outputConnector>
                    </children>
                    <children xsi:type="esb:PropertyMediator" propertyDataType="OM" valueType="EXPRESSION" newPropertyName="resultSet">
                      <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.37/@outputConnector/@outgoingLink"/>
                      <outputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.39/@inputConnector"/>
                      </outputConnector>
                      <valueExpression propertyValue="get-property('result')" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                    </children>
                    <children xsi:type="esb:LogMediator" logLevel="CUSTOM" logSeparator=", ">
                      <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.38/@outputConnector/@outgoingLink"/>
                      <outputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.40/@inputConnector"/>
                      </outputConnector>
                      <properties propertyName="PAyment section" propertyValueType="EXPRESSION" propertyValue="">
                        <propertyExpression propertyValue="get-property('result')" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      </properties>
                    </children>
                    <children xsi:type="esb:FilterMediator" conditionType="XPath">
                      <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.39/@outputConnector/@outgoingLink"/>
                      <outputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.41/@inputConnector"/>
                      </outputConnector>
                      <passOutputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.40/@filterContainer/@passContainer/@mediatorFlow/@children.0/@inputConnector"/>
                      </passOutputConnector>
                      <failOutputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.40/@filterContainer/@failContainer/@mediatorFlow/@children.0/@inputConnector"/>
                      </failOutputConnector>
                      <xpath propertyValue="count($ctx:resultSet//*[local-name()='errorMessage']) > 0" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      <source prettyName="Filter Source" propertyName="source" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      <filterContainer>
                        <passContainer>
                          <mediatorFlow>
                            <children xsi:type="esb:PropertyMediator" description="ERRORCODE" value="1000" newPropertyName="sErrorCode">
                              <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.40/@passOutputConnector/@outgoingLink"/>
                              <outputConnector>
                                <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.40/@filterContainer/@passContainer/@mediatorFlow/@children.1/@inputConnector"/>
                              </outputConnector>
                              <valueExpression prettyName="Property Expression" propertyName="expression" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                            </children>
                            <children xsi:type="esb:PropertyMediator" description="ErrorMessage" valueType="EXPRESSION" newPropertyName="sErrorMsg">
                              <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.40/@filterContainer/@passContainer/@mediatorFlow/@children.0/@outputConnector/@outgoingLink"/>
                              <outputConnector>
                                <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.40/@filterContainer/@passContainer/@mediatorFlow/@children.2/@inputConnector"/>
                              </outputConnector>
                              <valueExpression propertyValue="$ctx:resultSet//*[local-name()='errorMessage']/text()" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                            </children>
                            <children xsi:type="esb:Sequence" name="SFDCFault_SEQ">
                              <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.40/@filterContainer/@passContainer/@mediatorFlow/@children.1/@outputConnector/@outgoingLink"/>
                              <outputConnector>
                                <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.40/@filterContainer/@passContainer/@mediatorFlow/@children.3/@inputConnector"/>
                              </outputConnector>
                              <dynamicReferenceKey prettyName="Sequence Expression" propertyName="expression" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                              <staticReferenceKey prettyName="Sequence Key" keyName="Sequence Key" keyValue="SFDCFault_SEQ" filters="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F4000000000000C770800000010000000017400196F72672E77736F322E636172626F6E2E6D6564696174797065737200136A6176612E7574696C2E41727261794C6973747881D21D99C7619D03000149000473697A6578700000000177040000000174001D6170706C69636174696F6E2F766E642E77736F322E73657175656E63657878"/>
                            </children>
                            <children xsi:type="esb:PropertyMediator" description="BSCS Payment-Section Error Response" propertyDataType="OM" valueType="EXPRESSION" newPropertyName="BSCSPaymentSectionErrorResponse">
                              <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.40/@filterContainer/@passContainer/@mediatorFlow/@children.2/@outputConnector.0/@outgoingLink"/>
                              <outputConnector/>
                              <valueExpression propertyValue="$body//*[local-name()='error']" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                            </children>
                          </mediatorFlow>
                        </passContainer>
                        <failContainer>
                          <mediatorFlow>
                            <children xsi:type="esb:PropertyMediator" description="Payment Section" propertyDataType="OM" valueType="EXPRESSION" newPropertyName="BSCSPaymentSection">
                              <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.40/@failOutputConnector/@outgoingLink"/>
                              <outputConnector/>
                              <valueExpression propertyValue="$ctx:resultSet" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                            </children>
                          </mediatorFlow>
                        </failContainer>
                      </filterContainer>
                    </children>
                    <children xsi:type="esb:PropertyMediator" description="PRP_stageName" value="DB Call To Retrieve OCC Section" newPropertyName="stageName">
                      <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.40/@outputConnector/@outgoingLink"/>
                      <outputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.42/@inputConnector"/>
                      </outputConnector>
                      <valueExpression prettyName="Property Expression" propertyName="expression" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                    </children>
                    <children xsi:type="esb:ScriptMediator" scriptType="INLINE" scriptBody="importPackage(Packages.org.apache.axiom.om);&#xA;                                var sQuery =  mc.getProperty(&quot;OCC&quot;);&#xA;                                var vQUERY =  sQuery.replace(&quot;?custCode&quot;,mc.getProperty(&quot;CustCode&quot;));&#xA;                                mc.setProperty(&quot;QUERY&quot;,vQUERY);">
                      <scriptDynamicKey prettyName="" propertyName="dynamic key" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.41/@outputConnector/@outgoingLink"/>
                      <outputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.43/@inputConnector"/>
                      </outputConnector>
                      <scriptStaticKey prettyName="Script Key" keyName="key" filters="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                    </children>
                    <children xsi:type="esb:ClassMediator" className="com.auras.DatabaseMediator">
                      <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.42/@outputConnector/@outgoingLink"/>
                      <outputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.44/@inputConnector"/>
                      </outputConnector>
                    </children>
                    <children xsi:type="esb:PropertyMediator" propertyDataType="OM" valueType="EXPRESSION" newPropertyName="resultSet">
                      <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.43/@outputConnector/@outgoingLink"/>
                      <outputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.45/@inputConnector"/>
                      </outputConnector>
                      <valueExpression propertyValue="get-property('result')" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                    </children>
                    <children xsi:type="esb:LogMediator" logLevel="CUSTOM" logSeparator=", ">
                      <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.44/@outputConnector/@outgoingLink"/>
                      <outputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.46/@inputConnector"/>
                      </outputConnector>
                      <properties propertyName="OCCCCCCCCC" propertyValueType="EXPRESSION" propertyValue="">
                        <propertyExpression propertyValue="get-property('result')" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      </properties>
                    </children>
                    <children xsi:type="esb:FilterMediator" conditionType="XPath">
                      <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.45/@outputConnector/@outgoingLink"/>
                      <outputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.47/@inputConnector"/>
                      </outputConnector>
                      <passOutputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.46/@filterContainer/@passContainer/@mediatorFlow/@children.0/@inputConnector"/>
                      </passOutputConnector>
                      <failOutputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.46/@filterContainer/@failContainer/@mediatorFlow/@children.0/@inputConnector"/>
                      </failOutputConnector>
                      <xpath propertyValue="count($ctx:resultSet//*[local-name()='errorMessage']) > 0" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      <source prettyName="Filter Source" propertyName="source" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      <filterContainer>
                        <passContainer>
                          <mediatorFlow>
                            <children xsi:type="esb:PropertyMediator" description="ERRORCODE" value="1000" newPropertyName="sErrorCode">
                              <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.46/@passOutputConnector/@outgoingLink"/>
                              <outputConnector>
                                <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.46/@filterContainer/@passContainer/@mediatorFlow/@children.1/@inputConnector"/>
                              </outputConnector>
                              <valueExpression prettyName="Property Expression" propertyName="expression" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                            </children>
                            <children xsi:type="esb:PropertyMediator" description="ErrorMessage" valueType="EXPRESSION" newPropertyName="sErrorMsg">
                              <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.46/@filterContainer/@passContainer/@mediatorFlow/@children.0/@outputConnector/@outgoingLink"/>
                              <outputConnector>
                                <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.46/@filterContainer/@passContainer/@mediatorFlow/@children.2/@inputConnector"/>
                              </outputConnector>
                              <valueExpression propertyValue="$ctx:resultSet//*[local-name()='errorMessage']/text()" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                            </children>
                            <children xsi:type="esb:Sequence" name="SFDCFault_SEQ">
                              <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.46/@filterContainer/@passContainer/@mediatorFlow/@children.1/@outputConnector/@outgoingLink"/>
                              <outputConnector>
                                <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.46/@filterContainer/@passContainer/@mediatorFlow/@children.3/@inputConnector"/>
                              </outputConnector>
                              <dynamicReferenceKey prettyName="Sequence Expression" propertyName="expression" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                              <staticReferenceKey prettyName="Sequence Key" keyName="Sequence Key" keyValue="SFDCFault_SEQ" filters="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F4000000000000C770800000010000000017400196F72672E77736F322E636172626F6E2E6D6564696174797065737200136A6176612E7574696C2E41727261794C6973747881D21D99C7619D03000149000473697A6578700000000177040000000174001D6170706C69636174696F6E2F766E642E77736F322E73657175656E63657878"/>
                            </children>
                            <children xsi:type="esb:PropertyMediator" description="BSCSOCC Error Response" propertyDataType="OM" valueType="EXPRESSION" newPropertyName="BSCSOCCSectionErrorResponse">
                              <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.46/@filterContainer/@passContainer/@mediatorFlow/@children.2/@outputConnector.0/@outgoingLink"/>
                              <outputConnector/>
                              <valueExpression propertyValue="$body//*[local-name()='error']" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                            </children>
                          </mediatorFlow>
                        </passContainer>
                        <failContainer>
                          <mediatorFlow>
                            <children xsi:type="esb:PropertyMediator" description="OCC Section" propertyDataType="OM" valueType="EXPRESSION" newPropertyName="OCC">
                              <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.46/@failOutputConnector/@outgoingLink"/>
                              <outputConnector/>
                              <valueExpression propertyValue="$ctx:resultSet" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                            </children>
                          </mediatorFlow>
                        </failContainer>
                      </filterContainer>
                    </children>
                    <children xsi:type="esb:PropertyMediator" description="PRP_stageName" value="Calling Mobile Money Service" newPropertyName="stageName">
                      <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.46/@outputConnector/@outgoingLink"/>
                      <outputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.48/@inputConnector"/>
                      </outputConnector>
                      <valueExpression prettyName="Property Expression" propertyName="expression" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                    </children>
                    <children xsi:type="esb:PropertyMediator" description="SOAP FAULT" propertyName="FORCE_ERROR_ON_SOAP_FAULT" value="false">
                      <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.47/@outputConnector/@outgoingLink"/>
                      <outputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.49/@inputConnector"/>
                      </outputConnector>
                      <valueExpression prettyName="Property Expression" propertyName="expression" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                    </children>
                    <children xsi:type="esb:PayloadFactoryMediator" payload="&lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; xmlns:v1=&quot;http://mobiliser.sybase365.com/custom/project/services/contract/v1_0&quot;>&lt;soapenv:Header/>&lt;soapenv:Body>&lt;v1:BalanceInquiryRequest origin=&quot;soap&quot; repeat=&quot;false&quot; traceNo=&quot;100&quot;>&lt;mobileNumber>$1&lt;/mobileNumber>&lt;/v1:BalanceInquiryRequest>&lt;/soapenv:Body>&lt;/soapenv:Envelope>">
                      <payloadKey prettyName="Sequence Key" keyName="Sequence Key" filters="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      <args argumentType="Expression">
                        <argumentExpression propertyValue="$ctx:dirnum" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      </args>
                      <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.48/@outputConnector/@outgoingLink"/>
                      <outputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.50/@inputConnector"/>
                      </outputConnector>
                    </children>
                    <children xsi:type="esb:EnrichMediator" sourceProperty="messageId">
                      <sourceXpath prettyName="Source XPath" propertyName="xpath" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                      <targetXpath propertyValue="$body//*[local-name()='BalanceInquiryRequest'][@origin='soap']/@traceNo" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      <inlineRegistryKey prettyName="InlineKey" keyName="key" filters="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.49/@outputConnector/@outgoingLink"/>
                      <outputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.51/@inputConnector"/>
                      </outputConnector>
                    </children>
                    <children xsi:type="esb:PropertyMediator" description="base64 encoded format" valueType="EXPRESSION" newPropertyName="base64">
                      <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.50/@outputConnector/@outgoingLink"/>
                      <outputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.52/@inputConnector"/>
                      </outputConnector>
                      <valueExpression propertyValue="base64Encode($ctx:MMCredentials)" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                    </children>
                    <children xsi:type="esb:PropertyMediator" propertyName="ContentType" propertyScope="transport" value="text/xml">
                      <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.51/@outputConnector/@outgoingLink"/>
                      <outputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.53/@inputConnector"/>
                      </outputConnector>
                      <valueExpression prettyName="Property Expression" propertyName="expression" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                    </children>
                    <children xsi:type="esb:HeaderMediator" valueType="EXPRESSION" scope="transport">
                      <headerName prettyName="Header Name" propertyName="name" propertyValue="Authorization" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      <valueExpression propertyValue="fn:concat('Basic ',$ctx:base64)" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.52/@outputConnector/@outgoingLink"/>
                      <outputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.54/@inputConnector"/>
                      </outputConnector>
                    </children>
                    <children xsi:type="esb:HeaderMediator" valueLiteral="BalanceInquiry">
                      <headerName prettyName="Header Name" propertyName="name" propertyValue="Action" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      <valueExpression prettyName="Expression" propertyName="expression" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.53/@outputConnector/@outgoingLink"/>
                      <outputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.55/@inputConnector"/>
                      </outputConnector>
                    </children>
                    <children xsi:type="esb:FilterMediator" regex="false">
                      <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.54/@outputConnector/@outgoingLink"/>
                      <outputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.56/@inputConnector"/>
                      </outputConnector>
                      <passOutputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.55/@filterContainer/@passContainer/@mediatorFlow/@children.0/@inputConnector"/>
                      </passOutputConnector>
                      <failOutputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.55/@filterContainer/@failContainer/@mediatorFlow/@children.0/@inputConnector"/>
                      </failOutputConnector>
                      <xpath prettyName="Filter Source XPath" propertyName="filterSourceXpath" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      <source propertyValue="boolean($body//*[local-name()='Fault'])" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      <filterContainer>
                        <passContainer>
                          <mediatorFlow>
                            <children xsi:type="esb:SwitchMediator">
                              <sourceXpath propertyValue="$body//*[local-name()='BalanceInquiryResponse']/*[local-name()='Status']/@code" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                              <caseBranches caseRegex="0">
                                <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.55/@filterContainer/@passContainer/@mediatorFlow/@children.0/@switchContainer/@switchCaseParentContainer/@switchCaseContainer.0/@mediatorFlow/@children.0/@inputConnector"/>
                              </caseBranches>
                              <caseBranches caseRegex="10626">
                                <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.55/@filterContainer/@passContainer/@mediatorFlow/@children.0/@switchContainer/@switchCaseParentContainer/@switchCaseContainer.1/@mediatorFlow/@children.0/@inputConnector"/>
                              </caseBranches>
                              <defaultBranch>
                                <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.55/@filterContainer/@passContainer/@mediatorFlow/@children.0/@switchContainer/@switchDefaultParentContainer/@switchDefaultContainer/@mediatorFlow/@children.0/@inputConnector"/>
                              </defaultBranch>
                              <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.55/@passOutputConnector/@outgoingLink"/>
                              <outputConnector/>
                              <switchContainer>
                                <switchCaseParentContainer>
                                  <switchCaseContainer>
                                    <mediatorFlow>
                                      <children xsi:type="esb:PropertyMediator" description="Mobile Money Service Response" propertyDataType="OM" valueType="EXPRESSION" newPropertyName="MobileMoneyResponse">
                                        <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.55/@filterContainer/@passContainer/@mediatorFlow/@children.0/@caseBranches.0/@outgoingLink"/>
                                        <outputConnector/>
                                        <valueExpression propertyValue="//*[local-name()='BalanceInquiryResponse']" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                                      </children>
                                    </mediatorFlow>
                                  </switchCaseContainer>
                                  <switchCaseContainer>
                                    <mediatorFlow>
                                      <children xsi:type="esb:PropertyMediator" description="Mobile Money Service Response" propertyDataType="OM" valueType="EXPRESSION" newPropertyName="MobileMoneyResponse">
                                        <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.55/@filterContainer/@passContainer/@mediatorFlow/@children.0/@caseBranches.1/@outgoingLink"/>
                                        <outputConnector/>
                                        <valueExpression propertyValue="//*[local-name()='BalanceInquiryResponse']" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                                      </children>
                                    </mediatorFlow>
                                  </switchCaseContainer>
                                </switchCaseParentContainer>
                                <switchDefaultParentContainer>
                                  <switchDefaultContainer>
                                    <mediatorFlow>
                                      <children xsi:type="esb:PropertyMediator" description="ERRORCODE" valueType="EXPRESSION" newPropertyName="sErrorCode">
                                        <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.55/@filterContainer/@passContainer/@mediatorFlow/@children.0/@defaultBranch/@outgoingLink"/>
                                        <outputConnector>
                                          <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.55/@filterContainer/@passContainer/@mediatorFlow/@children.0/@switchContainer/@switchDefaultParentContainer/@switchDefaultContainer/@mediatorFlow/@children.1/@inputConnector"/>
                                        </outputConnector>
                                        <valueExpression propertyValue="$body//*[local-name()='BalanceInquiryResponse']/*[local-name()='Status']/@code" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                                      </children>
                                      <children xsi:type="esb:PropertyMediator" description="ERRORMessage" valueType="EXPRESSION" newPropertyName="sErrorMsg">
                                        <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.55/@filterContainer/@passContainer/@mediatorFlow/@children.0/@switchContainer/@switchDefaultParentContainer/@switchDefaultContainer/@mediatorFlow/@children.0/@outputConnector/@outgoingLink"/>
                                        <outputConnector>
                                          <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.55/@filterContainer/@passContainer/@mediatorFlow/@children.0/@switchContainer/@switchDefaultParentContainer/@switchDefaultContainer/@mediatorFlow/@children.2/@inputConnector"/>
                                        </outputConnector>
                                        <valueExpression propertyValue="$body//*[local-name()='BalanceInquiryResponse']/*[local-name()='Status']/text()" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                                      </children>
                                      <children xsi:type="esb:Sequence" name="SFDCFault_SEQ">
                                        <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.55/@filterContainer/@passContainer/@mediatorFlow/@children.0/@switchContainer/@switchDefaultParentContainer/@switchDefaultContainer/@mediatorFlow/@children.1/@outputConnector/@outgoingLink"/>
                                        <outputConnector>
                                          <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.55/@filterContainer/@passContainer/@mediatorFlow/@children.0/@switchContainer/@switchDefaultParentContainer/@switchDefaultContainer/@mediatorFlow/@children.3/@inputConnector"/>
                                        </outputConnector>
                                        <dynamicReferenceKey prettyName="Sequence Expression" propertyName="expression" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                                        <staticReferenceKey prettyName="Sequence Key" keyName="Sequence Key" keyValue="SFDCFault_SEQ" filters="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F4000000000000C770800000010000000017400196F72672E77736F322E636172626F6E2E6D6564696174797065737200136A6176612E7574696C2E41727261794C6973747881D21D99C7619D03000149000473697A6578700000000177040000000174001D6170706C69636174696F6E2F766E642E77736F322E73657175656E63657878"/>
                                      </children>
                                      <children xsi:type="esb:PropertyMediator" description="Mobile Money Service Error Response" propertyDataType="OM" valueType="EXPRESSION" newPropertyName="MobileMoneyErrorResponse">
                                        <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.55/@filterContainer/@passContainer/@mediatorFlow/@children.0/@switchContainer/@switchDefaultParentContainer/@switchDefaultContainer/@mediatorFlow/@children.2/@outputConnector.0/@outgoingLink"/>
                                        <outputConnector/>
                                        <valueExpression propertyValue="//*[local-name()='error']" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                                      </children>
                                    </mediatorFlow>
                                  </switchDefaultContainer>
                                </switchDefaultParentContainer>
                              </switchContainer>
                            </children>
                          </mediatorFlow>
                        </passContainer>
                        <failContainer>
                          <mediatorFlow>
                            <children xsi:type="esb:Sequence" name="SFDCFault_SEQ">
                              <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.55/@failOutputConnector/@outgoingLink"/>
                              <outputConnector>
                                <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.55/@filterContainer/@failContainer/@mediatorFlow/@children.1/@inputConnector"/>
                              </outputConnector>
                              <dynamicReferenceKey prettyName="Sequence Expression" propertyName="expression" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                              <staticReferenceKey prettyName="Sequence Key" keyName="Sequence Key" keyValue="SFDCFault_SEQ" filters="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F4000000000000C770800000010000000017400196F72672E77736F322E636172626F6E2E6D6564696174797065737200136A6176612E7574696C2E41727261794C6973747881D21D99C7619D03000149000473697A6578700000000177040000000174001D6170706C69636174696F6E2F766E642E77736F322E73657175656E63657878"/>
                            </children>
                            <children xsi:type="esb:PropertyMediator" description="Mobile Money Service Error Response" propertyDataType="OM" valueType="EXPRESSION" newPropertyName="MobileMoneyErrorResponse">
                              <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.55/@filterContainer/@failContainer/@mediatorFlow/@children.0/@outputConnector.0/@outgoingLink"/>
                              <outputConnector/>
                              <valueExpression propertyValue="//*[local-name()='error']" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                            </children>
                          </mediatorFlow>
                        </failContainer>
                      </filterContainer>
                    </children>
                    <children xsi:type="esb:PayloadFactoryMediator" payload="&lt;Response>&lt;MobileMoneyResponse>$1&lt;/MobileMoneyResponse>&lt;BMLPaymentHistory>$2&lt;/BMLPaymentHistory>&lt;BMLPaymentHistory_Invoice>$3&lt;/BMLPaymentHistory_Invoice>&lt;BSCSPaymentSection>$4&lt;/BSCSPaymentSection>&lt;SFDCCustomerRetrieveServiceResp>$5&lt;/SFDCCustomerRetrieveServiceResp>&lt;MobileNumber>$6&lt;/MobileNumber>&lt;ParentCustomerCode>$7&lt;/ParentCustomerCode>&lt;CountryDesc>$8&lt;/CountryDesc>&lt;CountryGroup>$9&lt;/CountryGroup>&lt;Deposit>$10&lt;/Deposit>&lt;OCC>$11&lt;/OCC>&lt;errors>&#xA;                                    $12&#xA;                                    $13&#xA;                                    $14&#xA;                                    $15&#xA;                                                                    $16&#xA;                                                                    $17&#xA;                                                                                $18&#xA;                                                                                $19&#xA;                                &lt;/errors>&lt;/Response>">
                      <payloadKey prettyName="Sequence Key" keyName="Sequence Key" filters="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      <args argumentType="Expression">
                        <argumentExpression propertyValue="$ctx:MobileMoneyResponse" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      </args>
                      <args argumentType="Expression">
                        <argumentExpression propertyValue="$ctx:BMLPaymentHistory" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      </args>
                      <args argumentType="Expression">
                        <argumentExpression propertyValue="$ctx:BMLPaymentHistory_Invoice" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      </args>
                      <args argumentType="Expression">
                        <argumentExpression propertyValue="$ctx:BSCSPaymentSection" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      </args>
                      <args argumentType="Expression">
                        <argumentExpression propertyValue="$ctx:CustomerRetrieveServiceResp" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      </args>
                      <args argumentType="Expression">
                        <argumentExpression propertyValue="$ctx:dirnum" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      </args>
                      <args argumentType="Expression">
                        <argumentExpression propertyValue="$ctx:ParentCustCode" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      </args>
                      <args argumentType="Expression">
                        <argumentExpression propertyValue="$ctx:CountryDesc" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      </args>
                      <args argumentType="Expression">
                        <argumentExpression propertyValue="$ctx:CountryGroup" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      </args>
                      <args argumentType="Expression">
                        <argumentExpression propertyValue="$ctx:Deposit" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      </args>
                      <args argumentType="Expression">
                        <argumentExpression propertyValue="$ctx:OCC" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      </args>
                      <args argumentType="Expression">
                        <argumentExpression propertyValue="$ctx:MobileMoneyErrorResponse" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      </args>
                      <args argumentType="Expression">
                        <argumentExpression propertyValue="$ctx:BMLPaymentHistoryErrorResponse" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      </args>
                      <args argumentType="Expression">
                        <argumentExpression propertyValue="$ctx:BSCSPaymentSectionErrorResponse" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      </args>
                      <args argumentType="Expression">
                        <argumentExpression propertyValue="$ctx:BSCSOCCSectionErrorResponse" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      </args>
                      <args argumentType="Expression">
                        <argumentExpression propertyValue="$ctx:CountryDescriptionErrorResponse" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      </args>
                      <args argumentType="Expression">
                        <argumentExpression propertyValue="$ctx:BMLPaymentHistoryErrorResponseInvoice" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      </args>
                      <args argumentType="Expression">
                        <argumentExpression propertyValue="$ctx:CustomerGroupErrorResponse" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      </args>
                      <args argumentType="Expression">
                        <argumentExpression propertyValue="$ctx:DepositErrorResponse" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      </args>
                      <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.55/@outputConnector/@outgoingLink"/>
                      <outputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.57/@inputConnector"/>
                      </outputConnector>
                    </children>
                    <children xsi:type="esb:PropertyMediator" description="SOAP FAULT" propertyName="FORCE_ERROR_ON_SOAP_FAULT" value="true">
                      <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.56/@outputConnector/@outgoingLink"/>
                      <outputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.58/@inputConnector"/>
                      </outputConnector>
                      <valueExpression prettyName="Property Expression" propertyName="expression" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                    </children>
                    <children xsi:type="esb:PropertyMediator" description="PRP_Data" propertyDataType="OM" valueType="EXPRESSION" newPropertyName="CustomerResMessage">
                      <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.57/@outputConnector/@outgoingLink"/>
                      <outputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.59/@inputConnector"/>
                      </outputConnector>
                      <valueExpression propertyValue="$body/*" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                    </children>
                    <children xsi:type="esb:PropertyMediator" description="PRP_Type" value="Log" newPropertyName="Type">
                      <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.58/@outputConnector/@outgoingLink"/>
                      <outputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.60/@inputConnector"/>
                      </outputConnector>
                      <valueExpression prettyName="Property Expression" propertyName="expression" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                    </children>
                    <children xsi:type="esb:PropertyMediator" description="PRP_serviceName" value="BSCS-CustomerService" newPropertyName="Service">
                      <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.59/@outputConnector/@outgoingLink"/>
                      <outputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.61/@inputConnector"/>
                      </outputConnector>
                      <valueExpression prettyName="Property Expression" propertyName="expression" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                    </children>
                    <children xsi:type="esb:PropertyMediator" description="PRP_LogLevel" value="2" newPropertyName="LogLevel">
                      <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.60/@outputConnector/@outgoingLink"/>
                      <outputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.62/@inputConnector"/>
                      </outputConnector>
                      <valueExpression prettyName="Property Expression" propertyName="expression" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                    </children>
                    <children xsi:type="esb:PropertyMediator" description="PRP_TransactionStatusId" value="3" newPropertyName="TransactionStatusId">
                      <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.61/@outputConnector/@outgoingLink"/>
                      <outputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.63/@inputConnector"/>
                      </outputConnector>
                      <valueExpression prettyName="Property Expression" propertyName="expression" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                    </children>
                    <children xsi:type="esb:PropertyMediator" description="PRP_Data" valueType="EXPRESSION" newPropertyName="ebRequestMessage">
                      <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.62/@outputConnector/@outgoingLink"/>
                      <outputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.64/@inputConnector"/>
                      </outputConnector>
                      <valueExpression propertyValue="$ctx:CustomerResMessage" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                    </children>
                    <children xsi:type="esb:PropertyMediator" description="Notes" value="Consolidated Response from BSCS Systems" newPropertyName="notes">
                      <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.63/@outputConnector/@outgoingLink"/>
                      <outputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.65/@inputConnector"/>
                      </outputConnector>
                      <valueExpression prettyName="Property Expression" propertyName="expression" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                    </children>
                    <children xsi:type="esb:Sequence" name="InsertTransactionAuditDetails_SEQ">
                      <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.64/@outputConnector/@outgoingLink"/>
                      <outputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.66/@inputConnector"/>
                      </outputConnector>
                      <dynamicReferenceKey prettyName="Sequence Expression" propertyName="expression" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      <staticReferenceKey prettyName="Sequence Key" keyName="Sequence Key" keyValue="InsertTransactionAuditDetails_SEQ" filters="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F4000000000000C770800000010000000017400196F72672E77736F322E636172626F6E2E6D6564696174797065737200136A6176612E7574696C2E41727261794C6973747881D21D99C7619D03000149000473697A6578700000000177040000000174001D6170706C69636174696F6E2F766E642E77736F322E73657175656E63657878"/>
                    </children>
                    <children xsi:type="esb:EnrichMediator" description="ebMessage Payload" sourceProperty="CustomerResMessage" targetType="body">
                      <sourceXpath prettyName="Source XPath" propertyName="xpath" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                      <targetXpath prettyName="Target XPath" propertyName="xpath" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                      <inlineRegistryKey prettyName="InlineKey" keyName="key" filters="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@passContainer/@mediatorFlow/@children.65/@outputConnector.0/@outgoingLink"/>
                      <outputConnector/>
                    </children>
                  </mediatorFlow>
                </passContainer>
                <failContainer>
                  <mediatorFlow>
                    <children xsi:type="esb:PropertyMediator" description="ERRORCODE" value="1000" newPropertyName="sErrorCode">
                      <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@failOutputConnector/@outgoingLink"/>
                      <outputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@failContainer/@mediatorFlow/@children.1/@inputConnector"/>
                      </outputConnector>
                      <valueExpression prettyName="Property Expression" propertyName="expression" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                    </children>
                    <children xsi:type="esb:PropertyMediator" description="ERRORMessage" value="MSISDN is mandatory" newPropertyName="sErrorMsg">
                      <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@failContainer/@mediatorFlow/@children.0/@outputConnector/@outgoingLink"/>
                      <outputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@failContainer/@mediatorFlow/@children.2/@inputConnector"/>
                      </outputConnector>
                      <valueExpression prettyName="Property Expression" propertyName="expression" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078" supportJsonPaths="true"/>
                    </children>
                    <children xsi:type="esb:CallMediator" endpointType="REGISRTYKEY">
                      <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@failContainer/@mediatorFlow/@children.1/@outputConnector/@outgoingLink"/>
                      <outputConnector/>
                      <endpointOutputConnector>
                        <outgoingLink target="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@failContainer/@mediatorFlow/@children.2/@mediatorFlow/@children.0/@inputConnector"/>
                      </endpointOutputConnector>
                      <mediatorFlow>
                        <children xsi:type="esb:NamedEndpoint" name="makeFault">
                          <reliableMessagingPolicy prettyName="ReliableMessagingPolicy Key" keyName="ReliableMessagingPolicy Key" keyValue="/default/key" filters="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                          <securityPolicy prettyName="SecurityPolicy Key" keyName="SecurityPolicy Key" filters="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                          <inboundPolicy prettyName="inboundPolicy Key" keyName="inboundPolicy Key" filters="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                          <outboundPolicy prettyName="obPolicy Key" keyName="obPolicy Key" filters="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                          <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@filterContainer/@failContainer/@mediatorFlow/@children.2/@endpointOutputConnector/@outgoingLink"/>
                          <dynamicReferenceKey prettyName="Endpoint Expression" propertyName="expression" propertyValue="/default/expression" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                          <staticReferenceKey prettyName="Endpoint Key" keyName="Endpoint Key" keyValue="makeFault" filters="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                        </children>
                      </mediatorFlow>
                      <endpointRegistrykey keyValue="makeFault" filters="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                      <sourceXPath prettyName="Endpoint XPath" propertyName="expression" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
                    </children>
                  </mediatorFlow>
                </failContainer>
              </filterContainer>
            </children>
            <children xsi:type="esb:RespondMediator">
              <inputConnector incomingLinks="//@server/@children.0/@container/@sequenceAndEndpointContainer/@mediatorFlow/@children.23/@outputConnector/@outgoingLink"/>
              <outputConnector/>
            </children>
          </mediatorFlow>
        </sequenceAndEndpointContainer>
        <faultContainer>
          <mediatorFlow>
            <children xsi:type="esb:RespondMediator" description="Fault Response">
              <inputConnector incomingLinks="//@server/@children.0/@container/@faultContainer/@mediatorFlow/@children.1/@outputConnector.0/@outgoingLink"/>
              <outputConnector>
                <outgoingLink target="//@server/@children.0/@faultInputConnector"/>
              </outputConnector>
            </children>
            <children xsi:type="esb:Sequence" name="SFDCFault_SEQ">
              <inputConnector/>
              <outputConnector>
                <outgoingLink target="//@server/@children.0/@container/@faultContainer/@mediatorFlow/@children.0/@inputConnector"/>
              </outputConnector>
              <dynamicReferenceKey prettyName="Sequence Expression" propertyName="expression" namespaces="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
              <staticReferenceKey prettyName="Sequence Key" keyName="Sequence Key" keyValue="SFDCFault_SEQ" filters="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F4000000000000C770800000010000000017400196F72672E77736F322E636172626F6E2E6D6564696174797065737200136A6176612E7574696C2E41727261794C6973747881D21D99C7619D03000149000473697A6578700000000177040000000174001D6170706C69636174696F6E2F766E642E77736F322E73657175656E63657878"/>
            </children>
          </mediatorFlow>
        </faultContainer>
      </container>
      <inSequenceKey prettyName="In Sequence Reference" keyName="key" filters="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
      <inSequenceOnError prettyName="In Sequence On Error Reference" keyName="key" filters="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F4000000000000C770800000010000000017400196F72672E77736F322E636172626F6E2E6D6564696174797065737200136A6176612E7574696C2E41727261794C6973747881D21D99C7619D03000149000473697A6578700000000177040000000174001D6170706C69636174696F6E2F766E642E77736F322E73657175656E63657878"/>
      <outSequenceKey prettyName="Out Sequence Reference" keyName="key" filters="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
      <outSequenceOnError prettyName="Out Sequence On Error Reference" keyName="key" filters="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F4000000000000C770800000010000000017400196F72672E77736F322E636172626F6E2E6D6564696174797065737200136A6176612E7574696C2E41727261794C6973747881D21D99C7619D03000149000473697A6578700000000177040000000174001D6170706C69636174696F6E2F766E642E77736F322E73657175656E63657878"/>
      <faultSequenceKey prettyName="Fault Sequence Reference" keyName="key" filters="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
      <faultSequenceOnError prettyName="Fault Sequence On Error Reference" keyName="key" filters="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F4000000000000C770800000010000000017400196F72672E77736F322E636172626F6E2E6D6564696174797065737200136A6176612E7574696C2E41727261794C6973747881D21D99C7619D03000149000473697A6578700000000177040000000174001D6170706C69636174696F6E2F766E642E77736F322E73657175656E63657878"/>
      <endpointKey prettyName="Endpoint Reference" keyName="key" filters="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
      <wsdlKey prettyName="WSDL Reference" keyName="key" filters="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F4000000000000C770800000010000000017400196F72672E77736F322E636172626F6E2E6D6564696174797065737200136A6176612E7574696C2E41727261794C6973747881D21D99C7619D03000149000473697A657870000000017704000000017400146170706C69636174696F6E2F7773646C2B786D6C7878"/>
      <wsdlEndpoint prettyName="WSDL Endpoint" keyName="endpoint" filters="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F4000000000000C770800000010000000017400196F72672E77736F322E636172626F6E2E6D6564696174797065737200136A6176612E7574696C2E41727261794C6973747881D21D99C7619D03000149000473697A657870000000017704000000017400146170706C69636174696F6E2F7773646C2B786D6C7878"/>
      <OnError prettyName="On Error Sequence Reference" keyName="key" filters="ACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000007708000000100000000078"/>
    </children>
  </server>
</esb:EsbDiagram>
